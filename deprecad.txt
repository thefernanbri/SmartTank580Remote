def check_printer_status():
    # URL de destino para verificar o estado da digitalização
    url = 'https://192.168.1.92/eSCL/ScannerStatus'

    # Cabeçalhos da solicitação
    headers = {
        'Host': '192.168.1.92',
        'Connection': 'close'
    }

    # Emular a solicitação GET
    response = requests.get(url, headers=headers, verify=False)

    # Verificar a resposta
    if response.status_code == 200:
        scan_status = response.text
        job_info_start = scan_status.find('<scan:JobInfo>')
        job_info_end = scan_status.find('</scan:JobInfo>', job_info_start)
        job_info = scan_status[job_info_start:job_info_end]

        # Extrair informações
        job_state = job_info.split('<pwg:JobState>')[1].split('</pwg:JobState>')[0]
        job_JobStateReason = job_info.split('<pwg:JobStateReason>')[1].split('</pwg:JobStateReason>')[0]

        # Retorna as informações formatadas como um objeto JSON
        return jsonify({"estado": job_state, "motivo": job_JobStateReason})

    # Se houver um erro na resposta, retorne uma mensagem de erro
    return jsonify({"erro": "Erro ao verificar o estado da impressora"})